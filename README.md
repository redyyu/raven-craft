# Raven Craft

A Project zomboid mod. expanding vanilla constructable facilities and craftable items.
Everything in this mod is try keep "Reasonable" and "Useable", make the game as close to reality as possible, but keep not too much complicated details.

Some idea is from other mods, make it more fit with vanilla game. 
Also, I did learn so much from many other mods, 
those knowledge is become my treasure, Thank you very much.



## Vanilla Expanding

1. Metal Drum only need 2 Log to burn.
2. Snow can be collect by rain barrel or metal drum as water. count 10:1(wanter)
3. Add Simple Pad shield for elbow, knee and shoulder. Some zombies will wearing it as well.
4. Maintance skill could help fixing.
5. Change some clothes textures.
6. Change multiple tools to open canned food. ex. knife and fork.
7. Bombs cloud spawn in some place.
8. Some tools hidden by vanilla, make it useful and spawn in some wheere. ex. ammo mold, tongs, Bellows...
9. Reading speed up while sit on ground.
10. Allowed suicide by gun.
11. Katana and Machete allowed attach on belt.
12. Move up / down or jump to ground, when climbing rope.
13. Increase Red Mobile Tool Cabinet capacity. (only effect new discovered.)
14. Combine better boots 3D model and textures.


### Added new Carpentry Expands:

1. **Outhouse Door**: a different looking wooden door.
2. **Fence Gate**: door for lower fence, dont'need door frame.
3. **High Fence Gate**: door for high fence or wooden wall, dont'need door frame.
4. **Dog House**: For my dog, but no dog in this mod yet.
5. **Concrete Floor**: looks same as garage floor in RiverSide house. use to cover the floor when you need expanding your garage. (you have to make bucket of concrete frist, which is added by new recipe.)

*no magazine required above*


### Added new Metalworking Expands:
1. **Metal Door**: a gray metal door, just like the one usual find in the game. ex. Gigamart.
2. **Rolling Garage Door**: a kind of Garage Door, x3 tiles and sliver. Incase zombies crash your garage door. 
3. **Warehouse Floor**: like the metal grate floor in any Warehouse. incase you want make second floor in warehouse.
4. **Harder Warehouse Floor**: Metal grate floor with side bar.
4. **Warehouse Handrail**: Metal handrail in any Warehouse.
5. **Metal Drum**: Metal Drum can collect rain water or burn Log to Charcoal, Same as those Drum outside in Louisville. now, we can build this with any Metal Barrel. (also need `WeldingMask`, `WeldingRods`, and `BlowTorch`)

*"Metal Door" and "Rolling Garage Door" required "Make Metal Fences" recipe.*
*"Warehouse Floor" and "Harder Warehouse Floor" required "Make Metal Roof" recipe.*
*"Warehouse Handrail" required "Make Metal Fences" recipe.*
*"Metal Drum" required "Make Metal Containers" recipe.*
*Those recipes is in vanilla metalworking magazine.*


### Added new Workbench for Metalworking:
1. **Stone Furnace**: Smelting metal products to workable ingot. which is hidden by vanilla, I bring it out, also the bug while "Put out fire" and fired texture not display is fixed.
2. **Anvil**: Used in forging various metal objects, such as Aex, Shovel. not every metal have to near Anvil to make.

*Required "Craft Workbench" recipe, which is in "The Spirit of Craftsman"(1-4) magazine.*


### Added new Farming Expands:

1. **Corn**: grows vanilla Corn.
2. **Peanuts**: grows vanilla Peanuts (will never be rotten).
3. **Wheat**: grows expaneded Wheat.
4. **Zucchini**: grows vanilla Zucchini.
5. **Pumpkin**: grows vanilla Pumpkin.
6. **Watermelon**: grows vanilla Watermelon
7. **Onion**: grows vanilla Onion
8. **Lettuce**: grows vanilla Lettuce
9. **Leek**: grows vanilla Leek
10. **Eggplant**: grows vanilla Eggplant
11. **Edamame**: grows vanilla Edamame
12. **Daikon**: grows vanilla Daikon
13. **PepperJalapeno**: grows vanilla PepperJalapeno
14. **PepperHabanero**: grows vanilla PepperHabanero
15. **BellPepper**: grows vanilla BellPepper

*no magazine required above*


### Added Magazine Expands:

1. **The Spirit of Craftsman Vol.1**: Teach `Craft Workbench`, `Craft Tongs`, `Craft Bellows`, `Quick make Charcoal`, `Self-made Glue`, `Self-made Wood Glue`, `Self-made Hairspray` and active `Make Metal Bar`, `Make Metal Pipe` which is hidden in vanilla;

2. **The Spirit of Craftsman Vol.2**: Teach `Craft Nails`, `Craft Paperclips`, `Craft Butter Knife`, `Craft Kitchen Knife`, `Craft Meat Cleaver`, `Craft Hand Scythe`, `Craft Hand Shovel`, `Craft Shovel`, `Craft Garden Hoe`, `Craft Pick Axe`, `Craft Crowbar`;

3. **The Spirit of Craftsman Vol.3**: Teach `Self-made White Paint`, `Self-made Red Paint`,`Self-made Blue Paint`, `Self-made Yellow Paint`, `Self-made Orange Paint`, `Self-made Purple Paint`, `Self-made Black Paint`, `Self-made Brown Paint`, `Self-made Cyan Paint`, `Self-made Green Paint`, `Self-made Gray Paint`, `Self-made Light Blue Paint`, `Self-made Light Brown Paint`,`Self-made Pink Paint`, `Self-made Turquoise Paint`;

4. **The Spirit of Craftsman Vol.4**: Teach `Craft Baseball Bat`, `Craft Nightstick`, `Craft Hunting Knife`, `Craft Machete`, `Craft Hand Axe`, `Craft Axe`, `Craft Wood Axe`;

5. **The Gospel Of Smoker**: Teach `Self-made Matches`, `Self-made Cigarettes`, `Self-made Newspaper Cigarettes`

*Recipes make weapones need to close Anvil, and required kind of weapone skill, ex. Craft Axe, required Axe skill, also Maintenace skill will effect the Condition of you made, ex. Maintenace lv0, most result will be broken.*

### Added Recipe Expands:

**General**

1. Self-made Matches `The Gospel Of Smoker`
2. Disassemble Notebook
3. Binding Notebook
4. Self-made Hairspray `The Spirit of Craftsman Vol.1`

**Health**

4. Self-made Cigarettes
5. Self-made Newspaper Cigarettes

**Carpentry**

6. Blend Concrete
7. Artifact Stone
8. Chipping Stone
9. Self-made Plaster Powder
10. Self-made Gravel Bag
11. Craft Empty Sack
12. Craft Rolling Pin
13. Craft Bowl
14. Craft Bellows
15. Craft Handle
16. Craft Baseball Bat `The Spirit of Craftsman Vol.4`
17. Craft Nightstick `The Spirit of Craftsman Vol.4`
18. Self-made Glue `The Spirit of Craftsman Vol.1`
19. Self-made Wood Glue `The Spirit of Craftsman Vol.1`

**Trapper**

20. Create Mouse Trap
21. Create Snare Trap

**Welding / Metalworking**

22. Smash Ingot: make Scrap Metal
23. Cut Barbed Wire
24. Craft Tongs `The Spirit of Craftsman Vol.1`
25. Craft Nails `The Spirit of Craftsman Vol.2`
26. Craft Paperclips `The Spirit of Craftsman Vol.2`
27. Craft Butter Knife `The Spirit of Craftsman Vol.2`
28. Craft Kitchen Knife `The Spirit of Craftsman Vol.2`
29. Craft Meat Cleaver `The Spirit of Craftsman Vol.2`
30. Craft Hunting Knife `The Spirit of Craftsman Vol.4`
31. Craft Machete `The Spirit of Craftsman Vol.4`
32. Craft Hand Axe `The Spirit of Craftsman Vol.4`
33. Craft Axe `The Spirit of Craftsman Vol.4`
34. Craft Wood Axe `The Spirit of Craftsman Vol.4`
35. Craft Pick Axe `The Spirit of Craftsman Vol.2`
36. Craft Hand Shovel `The Spirit of Craftsman Vol.2`
37. Craft Shovel `The Spirit of Craftsman Vol.2`
38. Craft Hand Scythe `The Spirit of Craftsman Vol.2`
39. Craft Garden Hoe `The Spirit of Craftsman Vol.2`
40. Craft Crowbar `The Spirit of Craftsman Vol.2`

**Survivalist**

41. Self-made Sling
42. Self-made Double Holster
43. Quick make Charcoal `The Spirit of Craftsman Vol.1`
44. Self-made Nuclear Biochemical Mask

**Painting**

43. Self-made White Paint `The Spirit of Craftsman Vol.3`
44. Self-made Red Paint `The Spirit of Craftsman Vol.3`
45. Self-made Blue Paint `The Spirit of Craftsman Vol.3`
46. Self-made Yellow Paint `The Spirit of Craftsman Vol.3`
47. Self-made Orange Paint `The Spirit of Craftsman Vol.3`
48. Self-made Purple Paint `The Spirit of Craftsman Vol.3`
49. Self-made Black Paint `The Spirit of Craftsman Vol.3`
50. Self-made Brown Paint `The Spirit of Craftsman Vol.3`
51. Self-made Cyan Paint `The Spirit of Craftsman Vol.3`
52. Self-made Green Paint `The Spirit of Craftsman Vol.3`
53. Self-made Gray Paint `The Spirit of Craftsman Vol.3`
54. Self-made Light Blue Paint `The Spirit of Craftsman Vol.3`
55. Self-made Light Brown Paint `The Spirit of Craftsman Vol.3`
56. Self-made Pink Paint `The Spirit of Craftsman Vol.3`
57. Self-made Turquoise Paint `The Spirit of Craftsman Vol.3`


**Cooking**

58. Open Box of Salt

### Allow chop meat to Minced Meat

`Rabbit Meat`, `Small Animal Meat`, `Small Bird Meat`, `Chicken`, `Mutton Chop`, `Pork Chop`, `Steak`

Also allow chop pickled meat into Pickled Minced Meat, after few days it turn to Mysterious Meat.


### Allow put more Foods in Jar

`Rabbit Meat`, `Small Animal Meat`, `Small Bird Meat`, `Fish Fillet`, `Fish Roe`, `Salmon`, `Shrimp`, `Chicken`, `Egg`, `Frog Meat`, `Minced Meat`, `Mutton Chop`, `Pork Chop`, `Steak`, `Apple`, `Orange`, `Peach`, `Pear`, `Pineapple`, 

### Allow pickle meat

`Rabbit Meat`, `Small Animal Meat`, `Small Bird Meat`, `Fish Fillet`, `Salmon`, `Shrimp`, `Chicken`, `Frog Meat`, `Minced Meat`, `Mutton Chop`, `Pork Chop`, `Steak`,

use salt to make **Pickled** meat, after few days, it will turn to **Dehydrated** meat, it is not go bad any way.

Pickle meat before it's goes to rotten. unlike jar, pickle food can working on any size of meat. big meat produce big dehydrated.

### New food recipes

`Make Tofu`, `Make Mixed Vegetables`


## Ammo Maker

You can make Gunpowder and Bullets, but you have to read the Magginze first.
But, get materials still is not that easy.

Also ammo box contains is 50% increased. (Weight and MetalValue as well)

DO NOT waste bullets anyaway.


### Added Magazine Expands:

1. **The Spring Of Musketeer**: Teach `Craft Gunpowder`, `Craft 9mm Bullets`, `Craft .223 Bullets`, `Craft .308 Bullets`, `Craft Shotgun Shells`, `Craft 5.56mm Bullets`, `Craft .38 Special Bullets`, `Craft .44 Magnum Bullets`, `Craft .45 Auto Bullets`

### Vanilla Overrides:

1. **Gather Gunpowder**: After calculation gunpowder uses when make bullets. I decide change to 50 bullets gather 1 bollet gunpowder. 


### Added Items Expands:

1. 556BulletsMold
2. 38SpecialBulletsMold
3. 44MagnumBulletsMold
4. 45AutoBulletsMold

*other bullets mold already exists in vanilla, also you CAN NOT make bullet mold.the only way to get mold is search and loot. ex. gun store, amry crate. high possibility with survivalist stuff.*

### Added Recipe Expands:

1. Craft Gunpowder
2. Craft 9mm Bullets
3. Craft Shotgun Shells
4. Craft .308 Bullets
5. Craft .223 Bullets
6. Craft 5.56mm Bullets
7. Craft .38 Special Bullets
8. Craft .44 Magnum Bullets
9. Craft .45 Auto Bullets

*All recipe is required read "The Spring Of Musketeer"*

**Require near by Stone Furnace or Campfire, also fire must be lit up.**


## Weapons / Tools

Combine with other crossbow models. have several of corssbows. also need a magazine to learn recipes.
and modified some Vanilla Weapons or tools.

### Add Crossbow and Components

1. **CrossbowHand**: Prophecy Pistol Hand Crossbow.
2. **CrossbowCompound**: Haze 470 Compound Bow.
3. **CrossbowWooden**: Handmade Wooden Crossbow.
4. **CrossbowBolt**: Crossbow Bolt.
5. **CrossbowBoltBox**: Bundle of Crossbow Bolts.
6. **CrossbowBoltBroken**: Broken Crossbow Bolt (chance to break the bolt while hit the target).
7. **CrossbowMakerMag**：Doomsday Preppers, Teach `Craft Wooden Crossbow`, `Craft Crossbow Bolts`

## Modified Vanilla Items

**Better Wrenchs**: `PipeWrench`, `Wrench`, increase harder and powered.
**Harder Pans**: `Pan`, `GridlePan`, `Saucepan` not that easy to broken.
**Better Hammers**: `Hammer`, `BallPeenHammer`, make hammer like real hammer.
**Harder Axe Stone**: `AxeStone` like a Axe, not Tofu.
**Bigger PropaneTank**: `PropaneTank` double the useDelta.

All changes are balanced with a vanilla game.
Btw., Remove all fixing for metal melee weapon tools.



## Skill Books

Add skill book for Perk `Aiming` and `Reloading`.

`BookWeaponAiming1`, `BookWeaponAiming2`, `BookWeaponAiming3` are for Aiming Perk,
can boost by skill book between lv1 ~ lv6

`BookWeaponReloading`, is for Reloading Perk, only up to lv2.


## Traits Modify

Trait `Handy` add `Perks.SmallBlunt` + 1, make -8 practical use.
Pertty much like `Hunter`.


## Cure

A Mysterious Serum Injection drop by `HazardSuit` or somewhere in Medical place, especially from amry.
Looting change is round about 25%, effect by `Lucky` or `Unlucky` Traits.
(tested kill 50 HazardSuit zombie in Debug mode, got 4 injection. without Lucky traits)

*Mysterious Serum Injection* take chances to cure the infection. (set by sandbox options)
`Lucky` increase 50% (75% total chance to cure, if default setting)
`Unlucky` decrease 25% (25% total chance to cure, if default setting)

More bad player stats will showing up when cured.
there is chance to be fake cured base on CureChance option in MOD sandbox settings.

If eat it with out infection, that will be waste, and bad stats will come up too.


## TV Tap

A New Tv Tap `First Aid Guide 1 - 4` for gain `FristAid` Perk.

## Exercises

Combine Exercises, Bench Press and Treadmill. Those exercises, is work like Vanilla Exercises exactly.
Character must be near by the device to start exercise, also Treadmill need electricity.
 

## Better Shoes

Combine better shoes models.


## Drink Packs

Combine Drink packs. pack up 6 or 12 Bottle or Pop Can into one.


## Trolley Cart

Combine Trolley Cart. A equipment container for both hands. It will slow the movement speed.

## Fishing Net

Make better Fishing Net, could cacth more than `BaitFish`, base on character fishing skill and lucky.


## GunSuicide

Kill your self by a loaded gun, prevent become a zombie.














# For Develpers 


## clothingItems
`<m_MaleModel>`, `<m_FemaleModel>` path to 3D model file, X or fbx, X is too old, so use fbx.
DO NOT just convert X to fbx, if skinned info will be lost, model will not working anymore.

`<m_GUID>` the guid for thi item, must add to fileGuidTable.xml from `media` folder,
otherwise item will not found. Use same GUID to ovrride the others.

`<m_AllowRandomHue>true</m_AllowRandomHue>` change the color of texture base on Hue.
`<m_AllowRandomTint>true</m_AllowRandomTint>` tint the texture, so light texuture will be nice. 
dark texture also work, but most time tint to more darkness.

`<m_AttachBone></m_AttachBone>`  attach bone info. I don't know how to use it yet.

`<m_Masks>11</m_Masks>` the number id of the body part will be masked. that's my best guess. (0-15) any other numbers will crash the game.

`<m_MasksFolder></m_MasksFolder>` mask folder, I guess, didn't use it yet.

`<m_UnderlayMasksFolder>fancyshoes</m_UnderlayMasksFolder>` underlay mask folder, I used, just many different colors image to mask the mesh.

`<textureChoices>` the path to texture file, must be png, no need file ext. path startswith textures folder.

`<m_BaseTextures>` didn't use that much, same as textureChoices, but it's different, I guess.
**<m_BaseTextures>clothes\gloves\leathergloves_brown</m_BaseTextures>**

```
<clothingItem>
	<m_MaleModel>media\models_X\Static\Clothes\fancyshoes_male.fbx</m_MaleModel>
	<m_FemaleModel>media\models_X\Static\Clothes\fancyshoes_female.fbx</m_FemaleModel>
	<m_GUID>b87c05cc-9a93-4572-99f8-005e350ee723</m_GUID>
	<m_Static>false</m_Static>
	<m_AllowRandomHue>true</m_AllowRandomHue>
	<m_AllowRandomTint>true</m_AllowRandomTint>
	<m_AttachBone></m_AttachBone>
	<m_Masks>11</m_Masks>
	<m_MasksFolder></m_MasksFolder>
	<m_UnderlayMasksFolder>media/textures/Clothes/Shoes/Masks/fancyshoes</m_UnderlayMasksFolder>
	<textureChoices>clothes/Shoes/shoes_white</textureChoices>
	<textureChoices>clothes/Shoes/shoes_brown</textureChoices>
	<textureChoices>clothes/Shoes/shoes_red</textureChoices>
	<textureChoices>clothes/Shoes/shoes_pale</textureChoices>
	<textureChoices>clothes/Shoes/shoes_pink</textureChoices>
</clothingItem>
```




## Strange Errors


### Recipe Format is wrong

if got `ISCraftingUI` exceptions, probably is Recipe Script is wrong, might missing `,` end of some line.

```
-----------------------------------------
function: populateRecipesList -- file: ISCraftingUI.lua line # 1093 | Vanilla
function: createChildren -- file: ISCraftingUI.lua line # 969 | Vanilla
function: instantiate -- file: ISUIElement.lua line # 653 | Vanilla
function: addToUIManager -- file: ISUIElement.lua line # 1009 | Vanilla
function: createInventoryInterface -- file: ISPlayerDataObject.lua line # 157 | Vanilla
function: createInventoryInterface -- file: ISPlayerDataTuning.lua line # 22 | MOD: Tsar's Common Library v.2.07
function: createPlayerData -- file: ISPlayerData.lua line # 187 | Vanilla.
[28-02-24 23:29:29.090] ERROR: General     , 1709134169090> ExceptionLogger.logException> Exception thrown java.lang.RuntimeException: attempted index: getFullType of non-table: null at KahluaThread.tableget line:1689..
[28-02-24 23:29:29.090] ERROR: General     , 1709134169090> DebugLogStream.printException> Stack trace:.
[28-02-24 23:29:29.092] LOG  : General     , 1709134169092> -----------------------------------------
```


### No math.round()

use math.floor(n + 0.5) to make round().
lua sucks.